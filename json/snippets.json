[
  {
    "id": "cmgqyy5su0001ykfn5ynufugf",
    "title": "React Custom Hook for Local Storage",
    "slug": "react-local-storage-hook",
    "summary": "A reusable React hook for managing localStorage with automatic JSON serialization and error handling.",
    "content": "# React Custom Hook for Local Storage\n\nThis custom hook provides a clean interface for working with localStorage in React applications.\n\n## Usage\n\n```javascript\nimport { useLocalStorage } from './useLocalStorage'\n\nfunction MyComponent() {\n  const [value, setValue] = useLocalStorage('myKey', 'defaultValue')\n  \n  return (\n    <div>\n      <input \n        value={value} \n        onChange={(e) => setValue(e.target.value)} \n      />\n    </div>\n  )\n}\n```\n\n## Implementation\n\n```javascript\nimport { useState, useEffect } from 'react'\n\nexport function useLocalStorage(key, initialValue) {\n  // Get from local storage then parse stored json or return initialValue\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key)\n      return item ? JSON.parse(item) : initialValue\n    } catch (error) {\n      console.error('Error reading localStorage key:', key, error)\n      return initialValue\n    }\n  })\n\n  // Return a wrapped version of useState's setter function that persists the new value to localStorage\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have the same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value\n      setStoredValue(valueToStore)\n      window.localStorage.setItem(key, JSON.stringify(valueToStore))\n    } catch (error) {\n      console.error('Error setting localStorage key:', key, error)\n    }\n  }\n\n  return [storedValue, setValue]\n}\n```\n\n## Features\n\n- Automatic JSON serialization/deserialization\n- Error handling for localStorage access\n- Same API as useState\n- TypeScript support\n- SSR safe (with Next.js)",
    "date": "2025-10-14T19:42:28.758Z",
    "lastmod": "2025-10-14T19:42:28.758Z",
    "tags": ["react", "hooks", "localStorage", "javascript"],
    "categories": ["frontend", "utilities"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "javascript",
    "framework": "react",
    "difficulty": "intermediate",
    "createdAt": "2025-10-14T19:42:28.830Z",
    "updatedAt": "2025-10-14T19:42:28.830Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy5ya0003ykfnsoli9sg6",
    "title": "Debounce Function in JavaScript",
    "slug": "javascript-debounce-function",
    "summary": "A utility function to debounce function calls, useful for search inputs and API calls.",
    "content": "# Debounce Function in JavaScript\n\nA debounce function delays the execution of a function until after a specified time has passed since it was last invoked.\n\n## Usage\n\n```javascript\nimport { debounce } from './debounce'\n\n// Debounce a search function\nconst debouncedSearch = debounce((query) => {\n  console.log('Searching for:', query)\n  // Perform search API call\n}, 300)\n\n// Use in an input handler\ninput.addEventListener('input', (e) => {\n  debouncedSearch(e.target.value)\n})\n```\n\n## Implementation\n\n```javascript\nfunction debounce(func, wait, immediate = false) {\n  let timeout\n  \n  return function executedFunction(...args) {\n    const later = () => {\n      timeout = null\n      if (!immediate) func(...args)\n    }\n    \n    const callNow = immediate && !timeout\n    \n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    \n    if (callNow) func(...args)\n  }\n}\n```\n\n## Advanced Usage with TypeScript\n\n```typescript\nfunction debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number,\n  immediate = false\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null\n  \n  return function executedFunction(...args: Parameters<T>) {\n    const later = () => {\n      timeout = null\n      if (!immediate) func(...args)\n    }\n    \n    const callNow = immediate && !timeout\n    \n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    \n    if (callNow) func(...args)\n  }\n}\n```\n\n## Use Cases\n\n- Search input fields\n- Window resize handlers\n- API call optimization\n- Button click prevention\n- Scroll event handlers",
    "date": "2025-10-14T19:42:28.960Z",
    "lastmod": "2025-10-14T19:42:28.960Z",
    "tags": ["javascript", "utility", "performance", "typescript"],
    "categories": ["utilities", "performance"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": false,
    "layout": null,
    "language": "javascript",
    "framework": null,
    "difficulty": "beginner",
    "createdAt": "2025-10-14T19:42:29.026Z",
    "updatedAt": "2025-10-14T19:42:29.026Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy61z0005ykfn7f1c6z9k",
    "title": "Tailwind CSS Dark Mode Toggle",
    "slug": "tailwind-dark-mode-toggle",
    "summary": "A complete dark mode implementation using Tailwind CSS with system preference detection.",
    "content": "# Tailwind CSS Dark Mode Toggle\n\nA complete dark mode implementation using Tailwind CSS with system preference detection and manual toggle.\n\n## Setup\n\nFirst, configure Tailwind CSS for dark mode in your tailwind.config.js:\n\n```javascript\nmodule.exports = {\n  darkMode: 'class', // Enable class-based dark mode\n  // ... rest of your config\n}\n```\n\n## React Hook for Dark Mode\n\n```javascript\nimport { useState, useEffect } from 'react'\n\nexport function useDarkMode() {\n  const [isDark, setIsDark] = useState(false)\n  \n  useEffect(() => {\n    // Check for saved theme preference or default to system preference\n    const savedTheme = localStorage.getItem('theme')\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n    \n    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {\n      setIsDark(true)\n      document.documentElement.classList.add('dark')\n    } else {\n      setIsDark(false)\n      document.documentElement.classList.remove('dark')\n    }\n  }, [])\n  \n  const toggleDarkMode = () => {\n    const newTheme = isDark ? 'light' : 'dark'\n    setIsDark(!isDark)\n    localStorage.setItem('theme', newTheme)\n    document.documentElement.classList.toggle('dark')\n  }\n  \n  return [isDark, toggleDarkMode]\n}\n```\n\n## Dark Mode Toggle Component\n\n```javascript\nimport { useDarkMode } from './useDarkMode'\n\nexport function DarkModeToggle() {\n  const [isDark, toggleDarkMode] = useDarkMode()\n  \n  return (\n    <button\n      onClick={toggleDarkMode}\n      className=\"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n      aria-label=\"Toggle dark mode\"\n    >\n      {isDark ? (\n        <svg className=\"w-5 h-5 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\" clipRule=\"evenodd\" />\n        </svg>\n      ) : (\n        <svg className=\"w-5 h-5 text-gray-700\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path d=\"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z\" />\n        </svg>\n      )}\n    </button>\n  )\n}\n```\n\n## Features\n\n- System preference detection\n- Manual toggle override\n- Persistent theme storage\n- Smooth transitions\n- Accessible with proper ARIA labels\n- TypeScript support",
    "date": "2025-10-14T19:42:29.085Z",
    "lastmod": "2025-10-14T19:42:29.085Z",
    "tags": ["tailwind", "dark-mode", "react", "css"],
    "categories": ["frontend", "styling"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "javascript",
    "framework": "react",
    "difficulty": "intermediate",
    "createdAt": "2025-10-14T19:42:29.159Z",
    "updatedAt": "2025-10-14T19:42:29.159Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cm345ghi6789def012",
    "title": "Framer Motion Hero Parallax Animation",
    "slug": "framer-motion-hero-parallax",
    "summary": "Create stunning parallax hero sections with Framer Motion featuring scroll-triggered animations and smooth transitions.",
    "content": "# Framer Motion Hero Parallax Animation\n\nBuild an eye-catching hero section with parallax scrolling effects using Framer Motion.\n\n## Component Implementation\n\n```typescript\n'use client'\n\nimport { motion, useScroll, useTransform } from 'framer-motion'\nimport { useRef } from 'react'\n\nexport function ParallaxHero() {\n  const ref = useRef<HTMLDivElement>(null)\n  const { scrollYProgress } = useScroll({\n    target: ref,\n    offset: ['start start', 'end start']\n  })\n\n  const y = useTransform(scrollYProgress, [0, 1], ['0%', '50%'])\n  const opacity = useTransform(scrollYProgress, [0, 1], [1, 0])\n\n  return (\n    <div ref={ref} className=\"relative h-screen overflow-hidden\">\n      {/* Background Layer */}\n      <motion.div\n        style={{ y }}\n        className=\"absolute inset-0 z-0\"\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/50 to-transparent\" />\n        <img\n          src=\"/hero-bg.jpg\"\n          alt=\"Hero background\"\n          className=\"w-full h-full object-cover\"\n        />\n      </motion.div>\n\n      {/* Content Layer */}\n      <motion.div\n        style={{ opacity }}\n        className=\"relative z-10 flex items-center justify-center h-full\"\n      >\n        <div className=\"text-center text-white\">\n          <motion.h1\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8 }}\n            className=\"text-6xl font-bold mb-4\"\n          >\n            Welcome to My Site\n          </motion.h1>\n          <motion.p\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.2 }}\n            className=\"text-xl\"\n          >\n            Building amazing experiences\n          </motion.p>\n        </div>\n      </motion.div>\n    </div>\n  )\n}\n```\n\n## Advanced Parallax Grid\n\n```typescript\nconst items = ['Item 1', 'Item 2', 'Item 3', 'Item 4']\n\nexport function ParallaxGrid() {\n  const { scrollYProgress } = useScroll()\n  \n  return (\n    <div className=\"grid grid-cols-2 gap-4 p-8\">\n      {items.map((item, i) => {\n        const y = useTransform(\n          scrollYProgress,\n          [0, 1],\n          [0, (i % 2 === 0 ? 100 : -100)]\n        )\n        \n        return (\n          <motion.div\n            key={i}\n            style={{ y }}\n            className=\"bg-gray-800 p-8 rounded-lg\"\n          >\n            <h3 className=\"text-white text-2xl\">{item}</h3>\n          </motion.div>\n        )\n      })}\n    </div>\n  )\n}\n```\n\n## Features\n\n- Smooth scroll-triggered animations\n- Multiple parallax layers\n- Performance optimized with useTransform\n- Responsive and mobile-friendly\n- Easy to customize speeds and directions\n\n## Performance Tips\n\n- Use `transform` and `opacity` for best performance\n- Avoid animating `width`, `height`, or `top/left`\n- Use `will-change: transform` for heavy animations\n- Consider reducing motion for accessibility",
    "date": "2025-11-18T12:00:00.000Z",
    "lastmod": "2025-11-18T12:00:00.000Z",
    "tags": ["framer-motion", "animation", "react", "parallax"],
    "categories": ["frontend", "styling"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "typescript",
    "framework": "react",
    "difficulty": "intermediate",
    "createdAt": "2025-11-18T12:00:00.000Z",
    "updatedAt": "2025-11-18T12:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cm234def5678abc901",
    "title": "Prisma Schema for Blog with Relations",
    "slug": "prisma-blog-schema-relations",
    "summary": "A complete Prisma schema setup for a blog with posts, comments, tags, and user relationships.",
    "content": "# Prisma Schema for Blog with Relations\n\nA production-ready Prisma schema with proper relationships and indexes for a blog application.\n\n## Schema Definition\n\n```prisma\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id        String    @id @default(cuid())\n  email     String    @unique\n  name      String?\n  role      Role      @default(USER)\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  books     Book[]\n  comments  Comment[]\n  movies    Movie[]\n  posts     Post[]\n  projects  Project[]\n  snippets  Snippet[]\n  commentReactions CommentReaction[]\n\n  @@map(\"users\")\n}\n\nmodel Post {\n  id           String   @id @default(cuid())\n  title        String\n  slug         String   @unique\n  summary      String?\n  content      String\n  date         DateTime @default(now())\n  lastmod      DateTime @updatedAt\n  tags         String[]\n  categories   String[]\n  images       String[]\n  authors      String[]\n  draft        Boolean  @default(true)\n  featured     Boolean  @default(false)\n  canonicalUrl String?\n  layout       String?\n  bibliography String?\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n  authorId     String\n  author       User     @relation(fields: [authorId], references: [id])\n\n  @@map(\"posts\")\n}\n\nmodel Comment {\n  id          String    @id @default(cuid())\n  postSlug    String\n  parentId    String?\n  content     String\n  authorName  String?\n  authorEmail String?\n  authorImage String?\n  isDeleted   Boolean   @default(false)\n  createdAt   DateTime  @default(now())\n  updatedAt   DateTime  @updatedAt\n  authorId    String?\n  author      User?     @relation(fields: [authorId], references: [id])\n  parent      Comment?  @relation(\"CommentChildren\", fields: [parentId], references: [id])\n  replies     Comment[] @relation(\"CommentChildren\")\n  reactions   CommentReaction[]\n\n  @@map(\"comments\")\n}\n\nmodel CommentReaction {\n  id        String   @id @default(cuid())\n  commentId String\n  userId    String\n  createdAt DateTime @default(now())\n  comment   Comment  @relation(fields: [commentId], references: [id], onDelete: Cascade)\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([commentId, userId])\n  @@map(\"comment_reactions\")\n}\n\nmodel Stats {\n  type      StatsType\n  slug      String\n  views     Int       @default(0)\n  loves     Int       @default(0)\n  applauses Int       @default(0)\n  ideas     Int       @default(0)\n  bullseyes Int       @default(0)\n\n  @@id([type, slug])\n  @@map(\"stats\")\n}\n\nenum Role {\n  USER\n  ADMIN\n}\n\nenum StatsType {\n  blog\n  snippet\n}\n```\n\n## Usage Example\n\n```typescript\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\n// Create a post\nconst post = await prisma.post.create({\n  data: {\n    title: 'My First Post',\n    slug: 'my-first-post',\n    content: 'Post content here',\n    tags: ['nextjs', 'react'],\n    categories: ['frontend'],\n    author: {\n      connect: { id: userId }\n    }\n  },\n  include: {\n    author: true\n  }\n})\n\n// Query posts with relations\nconst posts = await prisma.post.findMany({\n  where: { draft: false },\n  include: {\n    author: {\n      select: { name: true, email: true }\n    },\n    _count: {\n      select: { comments: true }\n    }\n  },\n  orderBy: { createdAt: 'desc' }\n})\n\n// Add a comment\nconst comment = await prisma.comment.create({\n  data: {\n    postSlug: 'my-first-post',\n    content: 'Great post!',\n    author: {\n      connect: { id: userId }\n    }\n  }\n})\n```\n\n## Key Features\n\n- Proper foreign key relationships with cascading deletes\n- Optimized indexes for common queries\n- CUID for unique IDs\n- Timestamps with auto-update\n- Hierarchical comments with parent-child relations\n- User roles and permissions\n- Stats tracking for blog posts and snippets\n\n## Migration Commands\n\n```bash\n# Create migration\nnpx prisma migrate dev --name init\n\n# Push schema changes\nnpx prisma db push\n\n# Generate Prisma Client\nnpx prisma generate\n\n# Open Prisma Studio\nnpx prisma studio\n```",
    "date": "2025-11-18T12:00:00.000Z",
    "lastmod": "2025-11-18T12:00:00.000Z",
    "tags": ["prisma", "database", "postgresql", "orm"],
    "categories": ["database", "backend"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": false,
    "layout": null,
    "language": "typescript",
    "framework": "prisma",
    "difficulty": "intermediate",
    "createdAt": "2025-11-18T12:00:00.000Z",
    "updatedAt": "2025-11-18T12:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy61z0006ykfn8g2d7a0l",
    "title": "Next.js Custom Build Script with Progress Tracking",
    "slug": "nextjs-custom-build-script",
    "summary": "A custom Next.js build script with clean progress tracking, ASCII art branding, and post-build task automation.",
    "content": "# Next.js Custom Build Script with Progress Tracking\n\nA custom build script that wraps Next.js build process with enhanced progress tracking, clean logging, and automated post-build tasks.\n\n## Features\n\n- Clean, simplified build output\n- ASCII art branding\n- Progress tracking for all build phases\n- Automatic RSS feed generation\n- Noise filtering (deprecation warnings, verbose logs)\n- Colored terminal output\n- Build statistics tracking\n\n## Installation\n\nInstall required dependencies:\n\n```bash\nnpm install figlet\nnpm install --save-dev @types/figlet\n```\n\n## Build Script (build.ts)\n\n```typescript\nimport { spawn } from 'child_process'\nimport figlet from 'figlet'\nimport { generateRssFeed } from './rss'\n\nconst ASCII_COLORS = {\n  ORANGE: '\\x1b[38;5;208m',\n  GREEN: '\\x1b[32m',\n  BLUE: '\\x1b[34m',\n  YELLOW: '\\x1b[33m',\n  RESET: '\\x1b[0m',\n  BOLD: '\\x1b[1m',\n  DIM: '\\x1b[2m',\n}\n\ninterface BuildStats {\n  compiled: boolean\n  linted: boolean\n  pagesCollected: boolean\n  staticGenerated: boolean\n  tracesCollected: boolean\n  optimized: boolean\n  totalPages: number\n  totalRoutes: number\n}\n\nfunction logStep(message: string, emoji = '‚ö°') {\n  console.log(`${ASCII_COLORS.GREEN}${emoji} ${message}${ASCII_COLORS.RESET}`)\n}\n\nfunction logSuccess(message: string) {\n  console.log(\n    `${ASCII_COLORS.BOLD}${ASCII_COLORS.GREEN}‚úì ${message}${ASCII_COLORS.RESET}`,\n  )\n}\n\nfunction processLine(line: string): boolean {\n  // Filter out noise\n  if (\n    line.includes('DeprecationWarning') ||\n    line.includes('Use `node --trace-deprecation') ||\n    line.includes('Experiments (use with caution)') ||\n    line.trim() === ''\n  ) {\n    return false\n  }\n\n  // Track compilation\n  if (line.includes('Compiled successfully')) {\n    const timeMatch = line.match(/in ([\\d.]+)s/)\n    const time = timeMatch ? timeMatch[1] : 'unknown'\n    logSuccess(`Compiled successfully in ${time}s`)\n    return false\n  }\n\n  // Track static generation\n  if (line.includes('Generating static pages')) {\n    const match = line.match(/\\((\\d+)\\/(\\d+)\\)/)\n    if (match) {\n      const current = Number.parseInt(match[1], 10)\n      const total = Number.parseInt(match[2], 10)\n      if (current === total) {\n        logSuccess(`Generated ${total} static pages`)\n      }\n    }\n    return false\n  }\n\n  return false\n}\n\nasync function runBuild() {\n  return new Promise<void>((resolve, reject) => {\n    const nextBuild = spawn('next', ['build'], {\n      env: { ...process.env, INIT_CWD: process.cwd() },\n      shell: false,\n    })\n\n    let buffer = ''\n\n    nextBuild.stdout.on('data', (data: Buffer) => {\n      buffer += data.toString()\n      const lines = buffer.split('\\n')\n      buffer = lines.pop() || ''\n      lines.forEach(processLine)\n    })\n\n    nextBuild.on('close', (code: number) => {\n      code === 0 ? resolve() : reject(new Error(`Build failed with exit code ${code}`))\n    })\n  })\n}\n\nasync function showAscii() {\n  const text = await figlet.text('Your Site', {\n    font: 'Standard',\n    horizontalLayout: 'default',\n  })\n  console.log(`\\n${ASCII_COLORS.ORANGE}${text}${ASCII_COLORS.RESET}\\n`)\n}\n\nasync function main() {\n  const startTime = Date.now()\n  \n  try {\n    await showAscii()\n    logStep('Starting build process...', 'üöÄ')\n    await runBuild()\n    \n    logStep('Running post-build tasks...', '‚öôÔ∏è')\n    await generateRssFeed()\n    \n    const duration = ((Date.now() - startTime) / 1000).toFixed(1)\n    console.log(`\\n‚ú® Build completed successfully in ${duration}s\\n`)\n  } catch (error) {\n    console.error(`\\n‚ùå Build failed: ${error.message}\\n`)\n    process.exit(1)\n  }\n}\n\nmain()\n```\n\n## Package.json Scripts\n\nUpdate your package.json:\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsx scripts/build.ts\",\n    \"build:standard\": \"next build\"\n  }\n}\n```\n\n## Post-Build Tasks\n\nCreate a post-build task file (e.g., `rss.ts`):\n\n```typescript\nexport async function generateRssFeed() {\n  console.log('üì° Generating RSS feed...')\n  // Your RSS generation logic here\n}\n```\n\n## Customization\n\n- Modify `ASCII_COLORS` for different color schemes\n- Add more post-build tasks in `runPostbuildTasks()`\n- Customize `processLine()` to filter different log messages\n- Change the ASCII art text in `showAscii()`\n\n## Benefits\n\n- Cleaner build output without verbose Next.js logs\n- Easy tracking of build progress\n- Automated post-build tasks\n- Professional branding with ASCII art\n- Better error visibility",
    "date": "2025-11-18T00:00:00.000Z",
    "lastmod": "2025-11-18T00:00:00.000Z",
    "tags": ["nextjs", "build", "typescript", "automation", "cli"],
    "categories": ["build-tools", "automation"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "typescript",
    "framework": "nextjs",
    "difficulty": "advanced",
    "createdAt": "2025-11-18T00:00:00.000Z",
    "updatedAt": "2025-11-18T00:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy61z0007ykfn9h3e8b1m",
    "title": "Next.js Server Actions with Form Handling and Zod Validation",
    "slug": "nextjs-server-actions-form-zod",
    "summary": "Complete form handling using Next.js Server Actions with Zod validation, useActionState hook, and progressive enhancement.",
    "content": "# Next.js Server Actions with Form Handling and Zod Validation\n\nA modern approach to handling forms in Next.js using Server Actions, the useActionState hook, and Zod for validation. This pattern provides type-safe form handling with excellent UX.\n\n## Installation\n\n```bash\nnpm install zod\n```\n\n## Server Action with Zod Validation\n\nCreate a server action file (e.g., `actions/form-action.ts`):\n\n```typescript\n'use server'\n\nimport { z } from 'zod'\n\nconst schema = z.object({\n  email: z.string().email('Invalid email address'),\n  name: z.string().min(2, 'Name must be at least 2 characters'),\n  message: z.string().min(10, 'Message must be at least 10 characters'),\n})\n\nexport type FormState = {\n  message: string\n  errors?: {\n    email?: string[]\n    name?: string[]\n    message?: string[]\n  }\n  success?: boolean\n}\n\nexport async function submitContactForm(\n  prevState: FormState,\n  formData: FormData\n): Promise<FormState> {\n  // Convert FormData to object\n  const dataToValidate = Object.fromEntries(formData.entries())\n  \n  // Validate with Zod\n  const validation = schema.safeParse(dataToValidate)\n  \n  if (!validation.success) {\n    return {\n      message: 'Validation failed',\n      errors: validation.error.flatten().fieldErrors,\n      success: false,\n    }\n  }\n  \n  try {\n    // Process the validated data\n    const { email, name, message } = validation.data\n    \n    // Example: Save to database\n    // await db.contact.create({ data: { email, name, message } })\n    \n    // Example: Send email\n    // await sendEmail({ to: email, subject: 'Thank you', body: message })\n    \n    return {\n      message: 'Form submitted successfully!',\n      success: true,\n    }\n  } catch (error) {\n    return {\n      message: 'Something went wrong. Please try again.',\n      success: false,\n    }\n  }\n}\n```\n\n## Form Component with useActionState\n\n```typescript\n'use client'\n\nimport { useActionState } from 'react'\nimport { submitContactForm, type FormState } from './actions/form-action'\n\nconst initialState: FormState = {\n  message: '',\n}\n\nexport default function ContactForm() {\n  const [state, formAction, isPending] = useActionState(\n    submitContactForm,\n    initialState\n  )\n\n  return (\n    <form action={formAction} className=\"space-y-4\">\n      <div>\n        <label htmlFor=\"name\" className=\"block text-sm font-medium\">\n          Name\n        </label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          required\n          className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2\"\n          aria-describedby=\"name-error\"\n        />\n        {state.errors?.name && (\n          <p id=\"name-error\" className=\"mt-1 text-sm text-red-600\">\n            {state.errors.name[0]}\n          </p>\n        )}\n      </div>\n\n      <div>\n        <label htmlFor=\"email\" className=\"block text-sm font-medium\">\n          Email\n        </label>\n        <input\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          required\n          className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2\"\n          aria-describedby=\"email-error\"\n        />\n        {state.errors?.email && (\n          <p id=\"email-error\" className=\"mt-1 text-sm text-red-600\">\n            {state.errors.email[0]}\n          </p>\n        )}\n      </div>\n\n      <div>\n        <label htmlFor=\"message\" className=\"block text-sm font-medium\">\n          Message\n        </label>\n        <textarea\n          id=\"message\"\n          name=\"message\"\n          required\n          rows={4}\n          className=\"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2\"\n          aria-describedby=\"message-error\"\n        />\n        {state.errors?.message && (\n          <p id=\"message-error\" className=\"mt-1 text-sm text-red-600\">\n            {state.errors.message[0]}\n          </p>\n        )}\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={isPending}\n        className=\"w-full rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50\"\n      >\n        {isPending ? 'Submitting...' : 'Submit'}\n      </button>\n\n      {state.message && (\n        <div\n          className={`mt-4 rounded-md p-4 ${\n            state.success ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n          }`}\n        >\n          {state.message}\n        </div>\n      )}\n    </form>\n  )\n}\n```\n\n## Advanced: With Cache Revalidation\n\n```typescript\n'use server'\n\nimport { revalidatePath } from 'next/cache'\nimport { redirect } from 'next/navigation'\nimport { z } from 'zod'\n\nconst postSchema = z.object({\n  title: z.string().min(1, 'Title is required'),\n  content: z.string().min(10, 'Content must be at least 10 characters'),\n})\n\nexport async function createPost(prevState: any, formData: FormData) {\n  const validation = postSchema.safeParse(\n    Object.fromEntries(formData.entries())\n  )\n\n  if (!validation.success) {\n    return {\n      message: 'Validation failed',\n      errors: validation.error.flatten().fieldErrors,\n    }\n  }\n\n  try {\n    const { title, content } = validation.data\n    \n    // Save to database\n    // const post = await db.post.create({ data: { title, content } })\n    \n    // Revalidate the cache\n    revalidatePath('/posts')\n    \n    // Redirect to the new post (if needed)\n    // redirect(`/posts/${post.id}`)\n    \n    return { message: 'Post created successfully!', success: true }\n  } catch (error) {\n    return { message: 'Failed to create post', success: false }\n  }\n}\n```\n\n## Features\n\n- **Type-safe validation** with Zod\n- **Progressive enhancement** - works without JavaScript\n- **Server-side security** - validation happens on the server\n- **Built-in pending states** with useActionState\n- **Automatic form reset** after successful submission\n- **Cache revalidation** for real-time updates\n- **Error handling** with granular field-level errors\n\n## Benefits\n\n- No need for separate API routes\n- Reduced client-side JavaScript\n- Better security (sensitive logic stays on server)\n- Excellent SEO and accessibility\n- Single network roundtrip for form submission",
    "date": "2025-11-18T00:00:00.000Z",
    "lastmod": "2025-11-18T00:00:00.000Z",
    "tags": [
      "nextjs",
      "server-actions",
      "forms",
      "zod",
      "validation",
      "typescript"
    ],
    "categories": ["forms", "validation"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "typescript",
    "framework": "nextjs",
    "difficulty": "intermediate",
    "createdAt": "2025-11-18T00:00:00.000Z",
    "updatedAt": "2025-11-18T00:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy61z0008ykfn0i4f9c2n",
    "title": "Next.js Middleware Authentication with Route Protection",
    "slug": "nextjs-middleware-authentication",
    "summary": "Implement secure route protection using Next.js middleware with JWT token validation and role-based access control.",
    "content": "# Next.js Middleware Authentication with Route Protection\n\nA comprehensive authentication middleware pattern for Next.js that protects routes, validates tokens, and handles role-based access control.\n\n## Basic Middleware Setup\n\nCreate `middleware.ts` in your project root:\n\n```typescript\nimport { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\n\nexport function middleware(request: NextRequest) {\n  // Get the token from cookies\n  const token = request.cookies.get('auth-token')?.value\n  \n  // Check if user is trying to access protected routes\n  const isProtectedRoute = request.nextUrl.pathname.startsWith('/dashboard')\n  const isAuthRoute = request.nextUrl.pathname.startsWith('/login') || \n                      request.nextUrl.pathname.startsWith('/register')\n  \n  // Redirect to login if accessing protected route without token\n  if (isProtectedRoute && !token) {\n    const loginUrl = new URL('/login', request.url)\n    loginUrl.searchParams.set('callbackUrl', request.nextUrl.pathname)\n    return NextResponse.redirect(loginUrl)\n  }\n  \n  // Redirect to dashboard if accessing auth routes with valid token\n  if (isAuthRoute && token) {\n    return NextResponse.redirect(new URL('/dashboard', request.url))\n  }\n  \n  return NextResponse.next()\n}\n\n// Configure which routes to run middleware on\nexport const config = {\n  matcher: [\n    '/dashboard/:path*',\n    '/login',\n    '/register',\n    '/api/protected/:path*',\n  ],\n}\n```\n\n## Advanced: JWT Token Validation\n\n```typescript\nimport { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\nimport { jwtVerify } from 'jose'\n\nconst SECRET_KEY = new TextEncoder().encode(\n  process.env.JWT_SECRET || 'your-secret-key'\n)\n\ninterface JWTPayload {\n  userId: string\n  email: string\n  role: 'admin' | 'user' | 'guest'\n}\n\nasync function verifyToken(token: string): Promise<JWTPayload | null> {\n  try {\n    const { payload } = await jwtVerify(token, SECRET_KEY)\n    return payload as unknown as JWTPayload\n  } catch (error) {\n    console.error('Token verification failed:', error)\n    return null\n  }\n}\n\nexport async function middleware(request: NextRequest) {\n  const token = request.cookies.get('auth-token')?.value\n  const { pathname } = request.nextUrl\n  \n  // Public routes that don't require authentication\n  const publicRoutes = ['/', '/about', '/contact', '/login', '/register']\n  if (publicRoutes.includes(pathname)) {\n    return NextResponse.next()\n  }\n  \n  // Check if token exists\n  if (!token) {\n    return NextResponse.redirect(new URL('/login', request.url))\n  }\n  \n  // Verify token\n  const payload = await verifyToken(token)\n  if (!payload) {\n    // Invalid token - clear cookie and redirect\n    const response = NextResponse.redirect(new URL('/login', request.url))\n    response.cookies.delete('auth-token')\n    return response\n  }\n  \n  // Add user info to request headers for use in pages/API routes\n  const requestHeaders = new Headers(request.headers)\n  requestHeaders.set('x-user-id', payload.userId)\n  requestHeaders.set('x-user-email', payload.email)\n  requestHeaders.set('x-user-role', payload.role)\n  \n  return NextResponse.next({\n    request: {\n      headers: requestHeaders,\n    },\n  })\n}\n\nexport const config = {\n  matcher: ['/dashboard/:path*', '/api/protected/:path*', '/profile/:path*'],\n}\n```\n\n## Role-Based Access Control\n\n```typescript\nimport { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\nimport { jwtVerify } from 'jose'\n\nconst SECRET_KEY = new TextEncoder().encode(process.env.JWT_SECRET!)\n\ntype UserRole = 'admin' | 'teacher' | 'student'\n\ninterface RouteConfig {\n  path: string\n  allowedRoles: UserRole[]\n}\n\nconst protectedRoutes: RouteConfig[] = [\n  { path: '/admin', allowedRoles: ['admin'] },\n  { path: '/teacher', allowedRoles: ['admin', 'teacher'] },\n  { path: '/student', allowedRoles: ['admin', 'teacher', 'student'] },\n]\n\nasync function getUserRole(token: string): Promise<UserRole | null> {\n  try {\n    const { payload } = await jwtVerify(token, SECRET_KEY)\n    return (payload as any).role\n  } catch {\n    return null\n  }\n}\n\nexport async function middleware(request: NextRequest) {\n  const token = request.cookies.get('auth-token')?.value\n  const { pathname } = request.nextUrl\n  \n  // Find matching route config\n  const routeConfig = protectedRoutes.find(route => \n    pathname.startsWith(route.path)\n  )\n  \n  // If route is not protected, allow access\n  if (!routeConfig) {\n    return NextResponse.next()\n  }\n  \n  // Check authentication\n  if (!token) {\n    return NextResponse.redirect(new URL('/login', request.url))\n  }\n  \n  // Check authorization\n  const userRole = await getUserRole(token)\n  if (!userRole || !routeConfig.allowedRoles.includes(userRole)) {\n    return NextResponse.json(\n      { error: 'Unauthorized access' },\n      { status: 403 }\n    )\n  }\n  \n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: ['/admin/:path*', '/teacher/:path*', '/student/:path*'],\n}\n```\n\n## Using with Server Components\n\nAccess user info in server components:\n\n```typescript\nimport { headers } from 'next/headers'\nimport { redirect } from 'next/navigation'\n\nexport default async function DashboardPage() {\n  const headersList = await headers()\n  const userId = headersList.get('x-user-id')\n  const userEmail = headersList.get('x-user-email')\n  \n  if (!userId) {\n    redirect('/login')\n  }\n  \n  return (\n    <div>\n      <h1>Dashboard</h1>\n      <p>Welcome, {userEmail}</p>\n    </div>\n  )\n}\n```\n\n## API Route Protection\n\n```typescript\n// app/api/protected/route.ts\nimport { NextRequest, NextResponse } from 'next/server'\n\nexport async function GET(request: NextRequest) {\n  const userId = request.headers.get('x-user-id')\n  const userRole = request.headers.get('x-user-role')\n  \n  if (!userId) {\n    return NextResponse.json(\n      { error: 'Unauthorized' },\n      { status: 401 }\n    )\n  }\n  \n  // Your protected logic here\n  return NextResponse.json({ \n    data: 'Protected data', \n    userId,\n    userRole \n  })\n}\n```\n\n## Features\n\n- **Edge Runtime Compatible** - runs on Vercel Edge Network\n- **JWT Token Validation** - secure token verification\n- **Role-Based Access Control** - fine-grained permissions\n- **Request Header Injection** - pass user data to routes\n- **Automatic Redirects** - seamless authentication flow\n- **Cookie Management** - secure token storage\n\n## Best Practices\n\n- Use environment variables for secrets\n- Implement token refresh logic\n- Add rate limiting for auth routes\n- Log authentication events\n- Handle token expiration gracefully\n- Use HTTPS in production",
    "date": "2025-11-18T00:00:00.000Z",
    "lastmod": "2025-11-18T00:00:00.000Z",
    "tags": [
      "nextjs",
      "middleware",
      "authentication",
      "jwt",
      "security",
      "typescript"
    ],
    "categories": ["authentication", "security"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "typescript",
    "framework": "nextjs",
    "difficulty": "advanced",
    "createdAt": "2025-11-18T00:00:00.000Z",
    "updatedAt": "2025-11-18T00:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy61z0009ykfn1j5g0d3o",
    "title": "Next.js Partial Prerendering (PPR) - Static Shell with Dynamic Streaming",
    "slug": "nextjs-partial-prerendering-ppr",
    "summary": "Advanced rendering strategy combining static edge delivery with dynamic streaming using Partial Prerendering for ultra-fast initial loads.",
    "content": "# Next.js Partial Prerendering (PPR) - Static Shell with Dynamic Streaming\n\nPartial Prerendering (PPR) is an experimental Next.js feature that combines the best of static site generation and server-side rendering. It allows you to prerender static parts of a page at build time while streaming dynamic content at request time - all in a single HTTP request.\n\n## What Problem Does PPR Solve?\n\nTraditional Next.js pages are either fully static or fully dynamic. PPR lets you have both:\n- **Static shell** - Prerendered at build time, served instantly from the edge\n- **Dynamic holes** - Streamed in parallel at request time with fresh data\n\n## Enabling PPR\n\nAdd to your `next.config.ts`:\n\n```typescript\nimport type { NextConfig } from 'next'\n\nconst nextConfig: NextConfig = {\n  experimental: {\n    ppr: 'incremental',\n  },\n}\n\nexport default nextConfig\n```\n\nThen opt-in per route:\n\n```typescript\n// app/dashboard/layout.tsx\nexport const experimental_ppr = true\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  return <div>{children}</div>\n}\n```\n\n## Basic PPR Pattern\n\n```typescript\nimport { Suspense } from 'react'\nimport { UserAvatar, UserAvatarSkeleton } from './user-avatar'\nimport { RecentActivity } from './recent-activity'\n\n// This component will be prerendered (static)\nexport default async function DashboardPage() {\n  // Static data fetched at build time\n  const staticData = await fetch('https://api.example.com/config', {\n    cache: 'force-cache',\n  }).then(res => res.json())\n\n  return (\n    <div className=\"dashboard\">\n      {/* Static content - prerendered */}\n      <header>\n        <h1>Dashboard</h1>\n        <p>{staticData.welcomeMessage}</p>\n      </header>\n\n      {/* Dynamic content - streamed at request time */}\n      <Suspense fallback={<UserAvatarSkeleton />}>\n        <UserAvatar />\n      </Suspense>\n\n      {/* More dynamic content */}\n      <Suspense fallback={<div>Loading activity...</div>}>\n        <RecentActivity />\n      </Suspense>\n\n      {/* Static footer - prerendered */}\n      <footer>\n        <p>¬© 2025 Company</p>\n      </footer>\n    </div>\n  )\n}\n```\n\n## Dynamic Component Example\n\n```typescript\n// components/user-avatar.tsx\nimport { cookies } from 'next/headers'\n\nexport async function UserAvatar() {\n  // This accesses request-time data\n  const cookieStore = await cookies()\n  const userId = cookieStore.get('userId')?.value\n\n  // Fetch user-specific data\n  const user = await fetch(`https://api.example.com/users/${userId}`, {\n    cache: 'no-store', // Always fresh\n  }).then(res => res.json())\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <img\n        src={user.avatar}\n        alt={user.name}\n        className=\"w-10 h-10 rounded-full\"\n      />\n      <span>{user.name}</span>\n    </div>\n  )\n}\n\nexport function UserAvatarSkeleton() {\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"w-10 h-10 rounded-full bg-gray-200 animate-pulse\" />\n      <div className=\"w-24 h-4 bg-gray-200 animate-pulse rounded\" />\n    </div>\n  )\n}\n```\n\n## E-commerce Product Page Example\n\n```typescript\n// app/products/[id]/page.tsx\nimport { Suspense } from 'react'\nimport { ProductDetails } from './product-details'\nimport { ProductReviews } from './product-reviews'\nimport { PersonalizedRecommendations } from './recommendations'\n\nexport const experimental_ppr = true\n\ninterface PageProps {\n  params: Promise<{ id: string }>\n}\n\nexport default async function ProductPage({ params }: PageProps) {\n  const { id } = await params\n\n  // Static product data - prerendered\n  const product = await fetch(`https://api.example.com/products/${id}`, {\n    next: { revalidate: 3600 }, // Revalidate hourly\n  }).then(res => res.json())\n\n  return (\n    <div className=\"product-page\">\n      {/* Static content - instant load */}\n      <div className=\"grid grid-cols-2 gap-8\">\n        <img src={product.image} alt={product.name} />\n        <div>\n          <h1>{product.name}</h1>\n          <p>{product.description}</p>\n          <p className=\"text-2xl font-bold\">${product.price}</p>\n        </div>\n      </div>\n\n      {/* Dynamic: User-specific cart status */}\n      <Suspense fallback={<div>Loading...</div>}>\n        <AddToCartButton productId={id} />\n      </Suspense>\n\n      {/* Dynamic: Real-time inventory */}\n      <Suspense fallback={<div>Checking availability...</div>}>\n        <InventoryStatus productId={id} />\n      </Suspense>\n\n      {/* Static: Product specs - prerendered */}\n      <div className=\"specs\">\n        <h2>Specifications</h2>\n        <ul>\n          {product.specs.map((spec: any) => (\n            <li key={spec.name}>\n              {spec.name}: {spec.value}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {/* Dynamic: Personalized recommendations */}\n      <Suspense fallback={<div>Loading recommendations...</div>}>\n        <PersonalizedRecommendations />\n      </Suspense>\n\n      {/* Dynamic: User reviews with real-time data */}\n      <Suspense fallback={<div>Loading reviews...</div>}>\n        <ProductReviews productId={id} />\n      </Suspense>\n    </div>\n  )\n}\n```\n\n## Advanced: Nested Suspense for Progressive Loading\n\n```typescript\n// app/dashboard/page.tsx\nimport { Suspense } from 'react'\n\nexport const experimental_ppr = true\n\nexport default function DashboardPage() {\n  return (\n    <div>\n      <h1>Analytics Dashboard</h1>\n\n      {/* Load quickly - show skeleton immediately */}\n      <Suspense fallback={<ChartSkeleton />}>\n        {/* Outer suspense for fast data */}\n        <QuickStats />\n\n        {/* Nested suspense for slower data */}\n        <Suspense fallback={<DetailedChartSkeleton />}>\n          <DetailedAnalytics />\n        </Suspense>\n      </Suspense>\n\n      {/* Parallel streaming - both load simultaneously */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <Suspense fallback={<CardSkeleton />}>\n          <RevenueCard />\n        </Suspense>\n        <Suspense fallback={<CardSkeleton />}>\n          <ConversionCard />\n        </Suspense>\n      </div>\n    </div>\n  )\n}\n```\n\n## Dynamic Component Accessing Request Data\n\n```typescript\n// components/personalized-greeting.tsx\nimport { headers, cookies } from 'next/headers'\n\nexport async function PersonalizedGreeting() {\n  const headersList = await headers()\n  const cookieStore = await cookies()\n  \n  const userAgent = headersList.get('user-agent')\n  const userId = cookieStore.get('userId')?.value\n  const timezone = cookieStore.get('timezone')?.value || 'UTC'\n\n  const userData = await fetch(`https://api.example.com/users/${userId}`)\n    .then(res => res.json())\n\n  const hour = new Date().getHours()\n  const greeting = hour < 12 ? 'Good morning' : hour < 18 ? 'Good afternoon' : 'Good evening'\n\n  return (\n    <div>\n      <h2>{greeting}, {userData.name}!</h2>\n      <p>Your local time: {new Date().toLocaleString('en-US', { timeZone: timezone })}</p>\n    </div>\n  )\n}\n```\n\n## Key Benefits\n\n- **Instant Initial Load** - Static shell serves from edge in milliseconds\n- **Fresh Dynamic Data** - Real-time data streams in without blocking\n- **SEO Friendly** - Static content is immediately crawlable\n- **Reduced Server Load** - Static parts cached globally\n- **Progressive Enhancement** - Works without JavaScript\n- **Single HTTP Request** - No waterfall loading\n\n## Best Practices\n\n1. **Identify Static vs Dynamic** - Anything using `cookies()`, `headers()`, or `searchParams` is dynamic\n2. **Use Meaningful Fallbacks** - Skeleton UIs should match final content layout\n3. **Parallel Streaming** - Wrap independent dynamic sections in separate Suspense boundaries\n4. **Cache Wisely** - Use appropriate cache strategies for different data types\n5. **Measure Performance** - Monitor Core Web Vitals improvements\n\n## When to Use PPR\n\n- E-commerce product pages (static product info, dynamic cart/inventory)\n- Social media feeds (static layout, dynamic posts)\n- News sites (static article content, dynamic comments)\n- Dashboards (static navigation, dynamic user data)\n- Marketing pages (static content, dynamic personalization)\n\n## Production Considerations\n\n- Currently experimental - not recommended for production\n- Requires edge runtime support (Vercel recommended)\n- Test thoroughly with your deployment platform\n- Monitor cache hit rates and stream performance\n\n## Migration Strategy\n\n```typescript\n// Before: Fully dynamic page\nexport default async function Page() {\n  const user = await getCurrentUser()\n  const posts = await getPosts()\n  return <div>{/* render */}</div>\n}\n\n// After: PPR with strategic Suspense boundaries\nexport const experimental_ppr = true\n\nexport default function Page() {\n  return (\n    <div>\n      {/* Static parts render immediately */}\n      <Header />\n      <Nav />\n      \n      {/* Dynamic parts stream in */}\n      <Suspense fallback={<Skeleton />}>\n        <UserSection />\n      </Suspense>\n      \n      <Suspense fallback={<PostsSkeleton />}>\n        <PostsList />\n      </Suspense>\n    </div>\n  )\n}\n```",
    "date": "2025-11-18T00:00:00.000Z",
    "lastmod": "2025-11-18T00:00:00.000Z",
    "tags": [
      "nextjs",
      "ppr",
      "performance",
      "streaming",
      "suspense",
      "rendering"
    ],
    "categories": ["performance", "advanced"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "typescript",
    "framework": "nextjs",
    "difficulty": "advanced",
    "createdAt": "2025-11-18T00:00:00.000Z",
    "updatedAt": "2025-11-18T00:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy61z0010ykfn2k6h1e4p",
    "title": "Next.js Intercepting & Parallel Routes - Advanced Modal Patterns",
    "slug": "nextjs-intercepting-parallel-routes-modals",
    "summary": "Build shareable URL modals with preserved context, proper back navigation, and deep linking using intercepting and parallel routes.",
    "content": "# Next.js Intercepting & Parallel Routes - Advanced Modal Patterns\n\nLearn how to build sophisticated modal experiences that support deep linking, preserve page context, and handle navigation elegantly using Next.js intercepting and parallel routes.\n\n## The Problem with Traditional Modals\n\nTraditional client-side modals have limitations:\n- ‚ùå Not shareable via URL\n- ‚ùå Context lost on page refresh\n- ‚ùå Back button doesn't close modal\n- ‚ùå No deep linking support\n- ‚ùå Poor accessibility and SEO\n\n## The Solution: Intercepting + Parallel Routes\n\nCombine these two powerful features:\n- **Parallel Routes (@slots)** - Render multiple pages in same layout\n- **Intercepting Routes ((.)notation)** - Intercept navigation to show modals\n\n## Basic Setup: Photo Gallery Modal\n\n### File Structure\n\n```\napp/\n‚îú‚îÄ‚îÄ @modal/\n‚îÇ   ‚îú‚îÄ‚îÄ (.)photos/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx      # Modal view\n‚îÇ   ‚îî‚îÄ‚îÄ default.tsx            # Return null when no modal\n‚îú‚îÄ‚îÄ photos/\n‚îÇ   ‚îî‚îÄ‚îÄ [id]/\n‚îÇ       ‚îî‚îÄ‚îÄ page.tsx           # Full page view\n‚îú‚îÄ‚îÄ layout.tsx                 # Root layout with modal slot\n‚îî‚îÄ‚îÄ page.tsx                   # Home page\n```\n\n### Root Layout with Modal Slot\n\n```typescript\n// app/layout.tsx\nexport default function RootLayout({\n  children,\n  modal,\n}: {\n  children: React.ReactNode\n  modal: React.ReactNode\n}) {\n  return (\n    <html lang=\"en\">\n      <body>\n        {children}\n        {modal}\n      </body>\n    </html>\n  )\n}\n```\n\n### Modal Default (Hide when not active)\n\n```typescript\n// app/@modal/default.tsx\nexport default function Default() {\n  return null\n}\n```\n\n### Photo Modal (Intercepted Route)\n\n```typescript\n// app/@modal/(.)photos/[id]/page.tsx\nimport { Modal } from '@/components/modal'\nimport { getPhoto } from '@/lib/photos'\n\ninterface PageProps {\n  params: Promise<{ id: string }>\n}\n\nexport default async function PhotoModal({ params }: PageProps) {\n  const { id } = await params\n  const photo = await getPhoto(id)\n\n  return (\n    <Modal>\n      <div className=\"max-w-4xl\">\n        <img\n          src={photo.url}\n          alt={photo.title}\n          className=\"w-full h-auto\"\n        />\n        <div className=\"p-4\">\n          <h2 className=\"text-2xl font-bold\">{photo.title}</h2>\n          <p className=\"text-gray-600\">{photo.description}</p>\n        </div>\n      </div>\n    </Modal>\n  )\n}\n```\n\n### Photo Full Page (Direct Access)\n\n```typescript\n// app/photos/[id]/page.tsx\nimport { getPhoto } from '@/lib/photos'\n\ninterface PageProps {\n  params: Promise<{ id: string }>\n}\n\nexport default async function PhotoPage({ params }: PageProps) {\n  const { id } = await params\n  const photo = await getPhoto(id)\n\n  return (\n    <div className=\"container mx-auto py-8\">\n      <img src={photo.url} alt={photo.title} className=\"w-full\" />\n      <h1 className=\"text-3xl font-bold mt-4\">{photo.title}</h1>\n      <p className=\"text-gray-600 mt-2\">{photo.description}</p>\n    </div>\n  )\n}\n```\n\n### Modal Component with Router\n\n```typescript\n// components/modal.tsx\n'use client'\n\nimport { useRouter } from 'next/navigation'\nimport { useEffect, useRef } from 'react'\n\nexport function Modal({ children }: { children: React.ReactNode }) {\n  const router = useRouter()\n  const dialogRef = useRef<HTMLDialogElement>(null)\n\n  useEffect(() => {\n    dialogRef.current?.showModal()\n  }, [])\n\n  const handleClose = () => {\n    router.back()\n  }\n\n  const handleClickOutside = (e: React.MouseEvent<HTMLDialogElement>) => {\n    if (e.target === dialogRef.current) {\n      handleClose()\n    }\n  }\n\n  return (\n    <dialog\n      ref={dialogRef}\n      onClick={handleClickOutside}\n      onClose={handleClose}\n      className=\"backdrop:bg-black/50 rounded-lg shadow-xl\"\n    >\n      <button\n        onClick={handleClose}\n        className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\n        aria-label=\"Close modal\"\n      >\n        <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n        </svg>\n      </button>\n      {children}\n    </dialog>\n  )\n}\n```\n\n## Advanced: Multiple Modal Types\n\n### File Structure for Multiple Modals\n\n```\napp/\n‚îú‚îÄ‚îÄ @modal/\n‚îÇ   ‚îú‚îÄ‚îÄ (.)photos/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ (.)login/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ (.)settings/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx\n‚îÇ   ‚îî‚îÄ‚îÄ default.tsx\n‚îú‚îÄ‚îÄ photos/[id]/page.tsx\n‚îú‚îÄ‚îÄ login/page.tsx\n‚îú‚îÄ‚îÄ settings/page.tsx\n‚îî‚îÄ‚îÄ layout.tsx\n```\n\n### Login Modal with Form\n\n```typescript\n// app/@modal/(.)login/page.tsx\n'use client'\n\nimport { Modal } from '@/components/modal'\nimport { usePathname } from 'next/navigation'\n\nexport default function LoginModal() {\n  const pathname = usePathname()\n\n  // Only show modal when pathname matches\n  if (pathname !== '/login') return null\n\n  return (\n    <Modal>\n      <div className=\"p-6 w-96\">\n        <h2 className=\"text-2xl font-bold mb-4\">Login</h2>\n        <form className=\"space-y-4\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"w-full px-4 py-2 border rounded\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"w-full px-4 py-2 border rounded\"\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </Modal>\n  )\n}\n```\n\n## Advanced: Nested Modals\n\n```typescript\n// app/@modal/(.)photos/[id]/page.tsx\n'use client'\n\nimport { useState } from 'react'\nimport { Modal } from '@/components/modal'\nimport Link from 'next/link'\n\nexport default function PhotoModal({ params }: PageProps) {\n  const [showShare, setShowShare] = useState(false)\n\n  return (\n    <>\n      <Modal>\n        <div className=\"relative\">\n          <img src={photo.url} alt={photo.title} />\n          <button\n            onClick={() => setShowShare(true)}\n            className=\"absolute bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded\"\n          >\n            Share\n          </button>\n        </div>\n      </Modal>\n\n      {showShare && (\n        <Modal onClose={() => setShowShare(false)}>\n          <div className=\"p-6\">\n            <h3 className=\"text-xl font-bold mb-4\">Share Photo</h3>\n            <div className=\"space-y-2\">\n              <button className=\"w-full p-2 bg-gray-100 rounded\">Twitter</button>\n              <button className=\"w-full p-2 bg-gray-100 rounded\">Facebook</button>\n              <button className=\"w-full p-2 bg-gray-100 rounded\">Copy Link</button>\n            </div>\n          </div>\n        </Modal>\n      )}\n    </>\n  )\n}\n```\n\n## Intercepting Route Notations\n\n```typescript\n// (.) - Same level\napp/@modal/(.)photos/[id]/page.tsx    // Intercepts /photos/[id]\n\n// (..) - One level up\napp/feed/@modal/(..)/photos/[id]/page.tsx   // From /feed, intercept /photos/[id]\n\n// (..)(..) - Two levels up\napp/dashboard/analytics/@modal/(..)(..)photos/[id]/page.tsx\n\n// (...) - From app root\napp/@modal/(...)photos/[id]/page.tsx\n```\n\n## Handling State Preservation\n\n```typescript\n// app/page.tsx\n'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\n\nexport default function HomePage() {\n  const [searchQuery, setSearchQuery] = useState('')\n  const [photos] = useState([/* photo data */])\n\n  return (\n    <div>\n      <input\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n        placeholder=\"Search photos...\"\n        className=\"w-full p-2 border rounded\"\n      />\n\n      <div className=\"grid grid-cols-3 gap-4 mt-4\">\n        {photos.map(photo => (\n          <Link href={`/photos/${photo.id}`} key={photo.id}>\n            <img src={photo.thumbnail} alt={photo.title} />\n          </Link>\n        ))}\n      </div>\n    </div>\n  )\n}\n```\n\n## Advanced: Catch-All for Modal Close\n\n```typescript\n// app/@modal/[...catchAll]/page.tsx\nexport default function CatchAll() {\n  return null\n}\n```\n\n## Best Practices\n\n1. **Always Provide Both Views** - Modal (intercepted) and full page\n2. **Use Pathname Checks** - Prevent multiple modals rendering\n3. **Handle Edge Cases** - Direct navigation, refresh, back/forward\n4. **Accessibility** - Use semantic HTML (`<dialog>`), ARIA labels\n5. **Progressive Enhancement** - Ensure full page works without JS\n\n## Common Pitfalls\n\n### ‚ùå Multiple Parallel Routes for Modals\n\n```typescript\n// Don't do this:\napp/@loginModal/\napp/@photoModal/\napp/@settingsModal/\n// Both will render simultaneously!\n```\n\n### ‚úÖ Single Parallel Route\n\n```typescript\n// Do this:\napp/@modal/\n  (.)login/\n  (.)photos/[id]/\n  (.)settings/\n// Only one renders at a time\n```\n\n## Use Cases\n\n- **E-commerce** - Product quick view\n- **Social Media** - Post details, image viewer\n- **SaaS** - Settings panels, user profiles\n- **Content Sites** - Article previews, media galleries\n- **Admin Dashboards** - Forms, detail views\n\n## Benefits\n\n‚úÖ **SEO Friendly** - Full pages are crawlable\n‚úÖ **Shareable URLs** - Every modal has a unique URL\n‚úÖ **Context Preservation** - Background page state maintained\n‚úÖ **Natural Navigation** - Back button closes modal\n‚úÖ **Deep Linking** - Direct access to modal content\n‚úÖ **Progressive Enhancement** - Works without JavaScript\n‚úÖ **Improved UX** - Smooth transitions, preserved scroll position",
    "date": "2025-11-18T00:00:00.000Z",
    "lastmod": "2025-11-18T00:00:00.000Z",
    "tags": [
      "nextjs",
      "routing",
      "modals",
      "parallel-routes",
      "intercepting-routes",
      "ux"
    ],
    "categories": ["routing", "advanced"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": true,
    "layout": null,
    "language": "typescript",
    "framework": "nextjs",
    "difficulty": "advanced",
    "createdAt": "2025-11-18T00:00:00.000Z",
    "updatedAt": "2025-11-18T00:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  },
  {
    "id": "cmgqyy7bv0010ykfn2k6h1f4f",
    "title": "React Custom Hook for User Activities with SWR",
    "slug": "react-custom-hook-user-activities-swr",
    "summary": "A custom React hook that fetches and manages user activities data including currently reading books, last watched movies, recently played music, and GitHub activities using SWR for efficient caching and revalidation.",
    "content": "# React Custom Hook for User Activities with SWR\n\nThis custom hook provides a clean interface for fetching user activities data in React applications using SWR for efficient data fetching, caching, and revalidation.\n\n## Usage\n\n```typescript\nimport { useActivities } from './useActivities'\n\nfunction ActivitiesComponent() {\n  const { data, error, isLoading } = useActivities(true)\n  \n  if (isLoading) return <div>Loading...</div>\n  if (error) return <div>Error loading activities</div>\n  \n  return (\n    <div>\n      <h2>Current Activities</h2>\n      {data?.currentlyReading && (\n        <p>Currently reading: {data.currentlyReading.title}</p>\n      )}\n      {data?.lastWatchedMovie && (\n        <p>Last watched: {data.lastWatchedMovie.title}</p>\n      )}\n      {/* Other activity data */}\n    </div>\n  )\n}\n```\n\n## Implementation\n\n```typescript\nimport useSWR from 'swr'\nimport type { SelectBook, SelectMovie } from '~/db/schema'\nimport type { GithubUserActivity, RecentlyPlayedData } from '~/types/data'\nimport { fetcher } from '~/utils/misc'\n\ninterface ActivitiesData {\n  currentlyReading: SelectBook | null\n  lastWatchedMovie: SelectMovie | null\n  recentlyPlayed: RecentlyPlayedData\n  githubActivities: GithubUserActivity | null\n}\n\nexport function useActivities(shouldFetch: boolean) {\n  const { data, error, isLoading } = useSWR<ActivitiesData>(\n    shouldFetch ? '/api/activities' : null,\n    fetcher,\n    {\n      revalidateOnFocus: false,\n      revalidateOnReconnect: false,\n    },\n  )\n\n  return {\n    data,\n    error,\n    isLoading,\n  }\n}\n```\n\n## Features\n\n- Efficient data fetching with SWR\n- Conditional fetching based on shouldFetch parameter\n- TypeScript support with proper interfaces\n- Automatic caching and revalidation\n- Error handling\n- Optimized for performance (no revalidation on focus/reconnect)",
    "date": "2025-11-18T00:00:00.000Z",
    "lastmod": "2025-11-18T00:00:00.000Z",
    "tags": ["react", "hooks", "swr", "typescript", "data-fetching"],
    "categories": ["frontend", "utilities"],
    "images": [],
    "authors": ["Dana"],
    "draft": false,
    "featured": false,
    "layout": null,
    "language": "typescript",
    "framework": "react",
    "difficulty": "intermediate",
    "createdAt": "2025-11-18T00:00:00.000Z",
    "updatedAt": "2025-11-18T00:00:00.000Z",
    "authorId": "cmgqrczwd0000zzfjqkoasu1o"
  }
]
